{"version":3,"sources":["index.js"],"names":["getCity","selectCity","GET_CITIES_FROM_API","GET_CITY_ERROR","SELECT_CITY","dispatch","getState","selectedCity","Content","get","method","type","path","encodeURI","successType","errorType","city"],"mappings":";;;;;;QAMgBA,O,GAAAA,O;QAyBAC,U,GAAAA,U;;AA/BhB;;;;AAEO,IAAMC,oDAAsB,qBAA5B;AACA,IAAMC,0CAAiB,kBAAvB;AACA,IAAMC,oCAAc,aAApB;;AAEA,SAASJ,OAAT,GAAmB;AACxB,SAAO,UAACK,QAAD,EAAWC,QAAX,EAAwB;AAC7B,QAAMC,eAAeD,WAAWE,OAAX,CAAmBC,GAAnB,CAAuB,cAAvB,CAArB;;AAEAJ,iDACe,CACX,YAAM;AACJ,gDACc;AACVK,gBAAQ,KADE;AAEVC,cAAM,UAFI;AAGVC,qDAA2CC,UAAUN,YAAV,CAHjC;AAIVO,qBAAaZ,mBAJH;AAKVa,mBAAWZ;AALD,OADd;AASD,KAXU,EAYX,YAAM;AACJ;AACD,KAdU,CADf;AAkBD,GArBD;AAsBD;;AAEM,SAASF,UAAT,CAAoBe,IAApB,EAA0B;AAC/B,SAAO,UAACX,QAAD,EAAc;AACnBA,aAAS;AACPM,YAAMP,WADC;AAEPY;AAFO,KAAT;AAIAX,aAASL,SAAT;AACD,GAND;AAOD","file":"index.js","sourcesContent":["import {CALL_API, CHAIN_API} from './../middleware/api';\n\nexport const GET_CITIES_FROM_API = 'GET_CITIES_FROM_API';\nexport const GET_CITY_ERROR = 'GET_CITIES_ERROR';\nexport const SELECT_CITY = 'SELECT_CITY';\n\nexport function getCity() {\n  return (dispatch, getState) => {\n    const selectedCity = getState().Content.get('selectedCity');\n\n    dispatch({\n      [CHAIN_API]: [\n        () => {\n          return {\n            [CALL_API]: {\n              method: 'get',\n              type: 'external',\n              path: `/city/search?limit=10&page=1&term=${encodeURI(selectedCity)}`,\n              successType: GET_CITIES_FROM_API,\n              errorType: GET_CITY_ERROR\n            }\n          };\n        },\n        () => {\n          // console.log(payload);\n        }\n      ]\n    });\n  };\n}\n\nexport function selectCity(city) {\n  return (dispatch) => {\n    dispatch({\n      type: SELECT_CITY,\n      city\n    });\n    dispatch(getCity());\n  };\n}\n"]}