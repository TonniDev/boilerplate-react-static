{"version":3,"sources":["block-navigation.js"],"names":["jumpToCode","init","missingCoverageClasses","notSelector","join","selector","missingCoverageElements","document","querySelectorAll","currentIndex","toggleClass","index","item","classList","remove","add","makeCurrent","scrollIntoView","behavior","block","inline","goToPrevious","nextIndex","length","goToNext","jump","event","which","window","addEventListener"],"mappings":";;AAAA,IAAIA,aAAc,SAASC,IAAT,GAAiB;AACjC;AACA,MAAIC,yBAAyB,CAAE,aAAF,EAAiB,WAAjB,EAA8B,WAA9B,CAA7B;;AAEA;AACA,MAAIC,cAAc,UAAUD,uBAAuBE,IAAvB,CAA4B,QAA5B,CAAV,GAAkD,MAApE,CALiC,CAK2C;;AAE5E;AACA,MAAIC,WAAWF,cAAcD,uBAAuBE,IAAvB,CAA4B,OAAOD,WAAnC,CAA7B,CARiC,CAQ6C;;AAE9E;AACA,MAAIG,0BAA0BC,SAASC,gBAAT,CAA0BH,QAA1B,CAA9B;;AAEA,MAAII,YAAJ;;AAEA,WAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1BL,4BAAwBM,IAAxB,CAA6BH,YAA7B,EAA2CI,SAA3C,CAAqDC,MAArD,CAA4D,aAA5D;AACAR,4BAAwBM,IAAxB,CAA6BD,KAA7B,EAAoCE,SAApC,CAA8CE,GAA9C,CAAkD,aAAlD;AACD;;AAED,WAASC,WAAT,CAAqBL,KAArB,EAA4B;AAC1BD,gBAAYC,KAAZ;AACAF,mBAAeE,KAAf;AACAL,4BAAwBM,IAAxB,CAA6BD,KAA7B,EACGM,cADH,CACkB,EAAEC,UAAU,QAAZ,EAAsBC,OAAO,QAA7B,EAAuCC,QAAQ,QAA/C,EADlB;AAED;;AAED,WAASC,YAAT,GAAwB;AACtB,QAAIC,YAAY,CAAhB;AACA,QAAI,OAAOb,YAAP,KAAwB,QAAxB,IAAoCA,iBAAiB,CAAzD,EAA4D;AAC1Da,kBAAYhB,wBAAwBiB,MAAxB,GAAiC,CAA7C;AACD,KAFD,MAEO,IAAIjB,wBAAwBiB,MAAxB,GAAiC,CAArC,EAAwC;AAC7CD,kBAAYb,eAAe,CAA3B;AACD;;AAEDO,gBAAYM,SAAZ;AACD;;AAED,WAASE,QAAT,GAAoB;AAClB,QAAIF,YAAY,CAAhB;;AAEA,QAAI,OAAOb,YAAP,KAAwB,QAAxB,IAAoCA,eAAgBH,wBAAwBiB,MAAxB,GAAiC,CAAzF,EAA6F;AAC3FD,kBAAYb,eAAe,CAA3B;AACD;;AAEDO,gBAAYM,SAAZ;AACD;;AAED,SAAO,SAASG,IAAT,CAAcC,KAAd,EAAqB;AAC1B,YAAQA,MAAMC,KAAd;AACE,WAAK,EAAL,CADF,CACW;AACT,WAAK,EAAL;AAAS;AACPH;AACA;AACF,WAAK,EAAL,CALF,CAKW;AACT,WAAK,EAAL,CANF,CAMW;AACT,WAAK,EAAL;AAAS;AACPH;AACA;AATJ;AAWD,GAZD;AAaD,CA7DiB,EAAlB;AA8DAO,OAAOC,gBAAP,CAAwB,SAAxB,EAAmC7B,UAAnC","file":"block-navigation.js","sourcesContent":["var jumpToCode = (function init () {\n  // Classes of code we would like to highlight\n  var missingCoverageClasses = [ '.cbranch-no', '.cstat-no', '.fstat-no' ];\n\n  // We don't want to select elements that are direct descendants of another match\n  var notSelector = ':not(' + missingCoverageClasses.join('):not(') + ') > '; // becomes `:not(a):not(b) > `\n\n  // Selecter that finds elements on the page to which we can jump\n  var selector = notSelector + missingCoverageClasses.join(', ' + notSelector); // becomes `:not(a):not(b) > a, :not(a):not(b) > b`\n\n  // The NodeList of matching elements\n  var missingCoverageElements = document.querySelectorAll(selector);\n\n  var currentIndex;\n\n  function toggleClass(index) {\n    missingCoverageElements.item(currentIndex).classList.remove('highlighted');\n    missingCoverageElements.item(index).classList.add('highlighted');\n  }\n\n  function makeCurrent(index) {\n    toggleClass(index);\n    currentIndex = index;\n    missingCoverageElements.item(index)\n      .scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });\n  }\n\n  function goToPrevious() {\n    var nextIndex = 0;\n    if (typeof currentIndex !== 'number' || currentIndex === 0) {\n      nextIndex = missingCoverageElements.length - 1;\n    } else if (missingCoverageElements.length > 1) {\n      nextIndex = currentIndex - 1;\n    }\n\n    makeCurrent(nextIndex);\n  }\n\n  function goToNext() {\n    var nextIndex = 0;\n\n    if (typeof currentIndex === 'number' && currentIndex < (missingCoverageElements.length - 1)) {\n      nextIndex = currentIndex + 1;\n    }\n\n    makeCurrent(nextIndex);\n  }\n\n  return function jump(event) {\n    switch (event.which) {\n      case 78: // n\n      case 74: // j\n        goToNext();\n        break;\n      case 66: // b\n      case 75: // k\n      case 80: // p\n        goToPrevious();\n        break;\n    }\n  };\n}());\nwindow.addEventListener('keydown', jumpToCode);\n"]}